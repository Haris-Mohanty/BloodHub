/**
 * React Router DOM v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
import*as e from"react";import{UNSAFE_mapRouteProperties as t,UNSAFE_startTransitionImpl as r,Router as n,UNSAFE_NavigationContext as o,useHref as a,useResolvedPath as i,useLocation as s,UNSAFE_DataRouterStateContext as u,useNavigate as l,createPath as c,UNSAFE_useRouteId as f,UNSAFE_RouteContext as m,useMatches as d,useNavigation as h,unstable_useBlocker as p,UNSAFE_DataRouterContext as g}from"react-router";export{AbortedDeferredError,Await,MemoryRouter,Navigate,NavigationType,Outlet,Route,Router,RouterProvider,Routes,UNSAFE_DataRouterContext,UNSAFE_DataRouterStateContext,UNSAFE_LocationContext,UNSAFE_NavigationContext,UNSAFE_RouteContext,UNSAFE_useRouteId,createMemoryRouter,createPath,createRoutesFromChildren,createRoutesFromElements,defer,generatePath,isRouteErrorResponse,json,matchPath,matchRoutes,parsePath,redirect,renderMatches,resolvePath,unstable_useBlocker,useActionData,useAsyncError,useAsyncValue,useHref,useInRouterContext,useLoaderData,useLocation,useMatch,useMatches,useNavigate,useNavigation,useNavigationType,useOutlet,useOutletContext,useParams,useResolvedPath,useRevalidator,useRouteError,useRouteLoaderData,useRoutes}from"react-router";import{stripBasename as w,createRouter as v,createBrowserHistory as y,createHashHistory as b,ErrorResponse as R,UNSAFE_invariant as S,joinPaths as E}from"@remix-run/router";const C="application/x-www-form-urlencoded";function A(e){return null!=e&&"string"==typeof e.tagName}function L(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map((e=>[r,e])):[[r,n]])}),[]))}function x(e,t,r){let n,o,a,i=null;if(A(s=e)&&"form"===s.tagName.toLowerCase()){let s=t.submissionTrigger;if(t.action)i=t.action;else{let t=e.getAttribute("action");i=t?w(t,r):null}n=t.method||e.getAttribute("method")||"get",o=t.encType||e.getAttribute("enctype")||C,a=new FormData(e),s&&s.name&&a.append(s.name,s.value)}else if(function(e){return A(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return A(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');if(t.action)i=t.action;else{let t=e.getAttribute("formaction")||s.getAttribute("action");i=t?w(t,r):null}n=t.method||e.getAttribute("formmethod")||s.getAttribute("method")||"get",o=t.encType||e.getAttribute("formenctype")||s.getAttribute("enctype")||C,a=new FormData(s),e.name&&a.append(e.name,e.value)}else{if(A(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(n=t.method||"get",i=t.action||null,o=t.encType||C,e instanceof FormData)a=e;else if(a=new FormData,e instanceof URLSearchParams)for(let[t,r]of e)a.append(t,r);else if(null!=e)for(let t of Object.keys(e))a.append(t,e[t])}var s;return{action:i,method:n.toLowerCase(),encType:o,formData:a}}function U(e,r){return v({basename:r?.basename,future:{...r?.future,v7_prependBasename:!0},history:y({window:r?.window}),hydrationData:r?.hydrationData||D(),routes:e,mapRouteProperties:t}).initialize()}function F(e,r){return v({basename:r?.basename,future:{...r?.future,v7_prependBasename:!0},history:b({window:r?.window}),hydrationData:r?.hydrationData||D(),routes:e,mapRouteProperties:t}).initialize()}function D(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:N(e.errors)}),e}function N(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,o]of t)if(o&&"RouteErrorResponse"===o.__type)r[n]=new R(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){let e=new Error(o.message);e.stack="",r[n]=e}else r[n]=o;return r}function _({basename:t,children:o,future:a,window:i}){let s=e.useRef();null==s.current&&(s.current=y({window:i,v5Compat:!0}));let u=s.current,[l,c]=e.useState({action:u.action,location:u.location}),{v7_startTransition:f}=a||{},m=e.useCallback((e=>{f&&r?r((()=>c(e))):c(e)}),[c,f]);return e.useLayoutEffect((()=>u.listen(m)),[u,m]),e.createElement(n,{basename:t,children:o,location:l.location,navigationType:l.action,navigator:u})}function P({basename:t,children:o,future:a,window:i}){let s=e.useRef();null==s.current&&(s.current=b({window:i,v5Compat:!0}));let u=s.current,[l,c]=e.useState({action:u.action,location:u.location}),{v7_startTransition:f}=a||{},m=e.useCallback((e=>{f&&r?r((()=>c(e))):c(e)}),[c,f]);return e.useLayoutEffect((()=>u.listen(m)),[u,m]),e.createElement(n,{basename:t,children:o,location:l.location,navigationType:l.action,navigator:u})}function T({basename:t,children:o,future:a,history:i}){let[s,u]=e.useState({action:i.action,location:i.location}),{v7_startTransition:l}=a||{},c=e.useCallback((e=>{l&&r?r((()=>u(e))):u(e)}),[u,l]);return e.useLayoutEffect((()=>i.listen(c)),[i,c]),e.createElement(n,{basename:t,children:o,location:s.location,navigationType:s.action,navigator:i})}const k="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,O=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I=e.forwardRef((function({onClick:t,relative:r,reloadDocument:n,replace:i,state:s,target:u,to:l,preventScrollReset:c,...f},m){let d,{basename:h}=e.useContext(o),p=!1;if("string"==typeof l&&O.test(l)&&(d=l,k))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),r=w(t.pathname,h);t.origin===e.origin&&null!=r?l=r+t.search+t.hash:p=!0}catch(y){}let g=a(l,{relative:r}),v=J(l,{replace:i,state:s,target:u,preventScrollReset:c,relative:r});return e.createElement("a",Object.assign({},f,{href:d||g,onClick:p||n?t:function(e){t&&t(e),e.defaultPrevented||v(e)},ref:m,target:u}))})),K=e.forwardRef((function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:l,to:c,children:f,...m},d){let h=i(c,{relative:m.relative}),p=s(),g=e.useContext(u),{navigator:w}=e.useContext(o),v=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,y=p.pathname,b=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(y=y.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase());let R,S=y===v||!a&&y.startsWith(v)&&"/"===y.charAt(v.length),E=null!=b&&(b===v||!a&&b.startsWith(v)&&"/"===b.charAt(v.length)),C=S?t:void 0;R="function"==typeof n?n({isActive:S,isPending:E}):[n,S?"active":null,E?"pending":null].filter(Boolean).join(" ");let A="function"==typeof l?l({isActive:S,isPending:E}):l;return e.createElement(I,Object.assign({},m,{"aria-current":C,className:R,ref:d,style:A,to:c}),"function"==typeof f?f({isActive:S,isPending:E}):f)})),j=e.forwardRef(((t,r)=>e.createElement(M,Object.assign({},t,{ref:r})))),M=e.forwardRef((({reloadDocument:t,replace:r,method:n="get",action:o,onSubmit:a,fetcherKey:i,routeId:s,relative:u,preventScrollReset:l,...c},f)=>{let m=q(i,s),d="get"===n.toLowerCase()?"get":"post",h=G(o,{relative:u});return e.createElement("form",Object.assign({ref:f,method:d,action:h,onSubmit:t?a:e=>{if(a&&a(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,o=t?.getAttribute("formmethod")||n;m(t||e.currentTarget,{method:o,replace:r,relative:u,preventScrollReset:l})}},c))}));function B({getKey:e,storageKey:t}){return te({getKey:e,storageKey:t}),null}var z,H;function W(t){let r=e.useContext(g);return r||S(!1),r}function Y(t){let r=e.useContext(u);return r||S(!1),r}function J(t,{target:r,replace:n,state:o,preventScrollReset:a,relative:u}={}){let f=l(),m=s(),d=i(t,{relative:u});return e.useCallback((e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,r)){e.preventDefault();let r=void 0!==n?n:c(m)===c(d);f(t,{replace:r,state:o,preventScrollReset:a,relative:u})}}),[m,f,d,n,o,r,t,a,u])}function V(t){let r=e.useRef(L(t)),n=e.useRef(!1),o=s(),a=e.useMemo((()=>function(e,t){let r=L(e);if(t)for(let n of t.keys())r.has(n)||t.getAll(n).forEach((e=>{r.append(n,e)}));return r}(o.search,n.current?null:r.current)),[o.search]),i=l(),u=e.useCallback(((e,t)=>{const r=L("function"==typeof e?e(a):e);n.current=!0,i("?"+r,t)}),[i,a]);return[a,u]}function $(){return q()}function q(t,r){let{router:n}=W(z.UseSubmitImpl),{basename:a}=e.useContext(o),i=f();return e.useCallback(((e,o={})=>{if("undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{action:s,method:u,encType:l,formData:c}=x(e,o,a),f={preventScrollReset:o.preventScrollReset,formData:c,formMethod:u,formEncType:l};t?(null==r&&S(!1),n.fetch(t,r,s,f)):n.navigate(s,{...f,replace:o.replace,fromRouteId:i})}),[n,a,t,r,i])}function G(t,{relative:r}={}){let{basename:n}=e.useContext(o),a=e.useContext(m);a||S(!1);let[u]=a.matches.slice(-1),l={...i(t||".",{relative:r})},f=s();if(null==t&&(l.search=f.search,l.hash=f.hash,u.route.index)){let e=new URLSearchParams(l.search);e.delete("index"),l.search=e.toString()?`?${e.toString()}`:""}return t&&"."!==t||!u.route.index||(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),"/"!==n&&(l.pathname="/"===l.pathname?n:E([n,l.pathname])),c(l)}!function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"}(z||(z={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(H||(H={}));let Q=0;function X(){let{router:t}=W(z.UseFetcher),r=e.useContext(m);r||S(!1);let n=r.matches[r.matches.length-1]?.route.id;null==n&&S(!1);let[o]=e.useState((()=>String(++Q))),[a]=e.useState((()=>(n||S(!1),function(t,r){return e.forwardRef(((n,o)=>e.createElement(M,Object.assign({},n,{ref:o,fetcherKey:t,routeId:r}))))}(o,n)))),[i]=e.useState((()=>e=>{t||S(!1),n||S(!1),t.fetch(o,n,e)})),s=q(o,n),u=t.getFetcher(o),l=e.useMemo((()=>({Form:a,submit:s,load:i,...u})),[u,a,s,i]);return e.useEffect((()=>()=>{t?t.deleteFetcher(o):console.warn("No router available to clean up from useFetcher()")}),[t,o]),l}function Z(){return[...Y(H.UseFetchers).fetchers.values()]}let ee={};function te({getKey:t,storageKey:r}={}){let{router:n}=W(z.UseScrollRestoration),{restoreScrollPosition:o,preventScrollReset:a}=Y(H.UseScrollRestoration),i=s(),u=d(),l=h();e.useEffect((()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"})),[]),function(t,r){let{capture:n}=r||{};e.useEffect((()=>{let e=null!=n?{capture:n}:void 0;return window.addEventListener("pagehide",t,e),()=>{window.removeEventListener("pagehide",t,e)}}),[t,n])}(e.useCallback((()=>{if("idle"===l.state){let e=(t?t(i,u):null)||i.key;ee[e]=window.scrollY}sessionStorage.setItem(r||"react-router-scroll-positions",JSON.stringify(ee)),window.history.scrollRestoration="auto"}),[r,t,l.state,i,u])),"undefined"!=typeof document&&(e.useLayoutEffect((()=>{try{let e=sessionStorage.getItem(r||"react-router-scroll-positions");e&&(ee=JSON.parse(e))}catch(e){}}),[r]),e.useLayoutEffect((()=>{let e=n?.enableScrollRestoration(ee,(()=>window.scrollY),t);return()=>e&&e()}),[n,t]),e.useLayoutEffect((()=>{if(!1!==o)if("number"!=typeof o){if(i.hash){let e=document.getElementById(i.hash.slice(1));if(e)return void e.scrollIntoView()}!0!==a&&window.scrollTo(0,0)}else window.scrollTo(0,o)}),[i,o,a]))}function re(t,r){let{capture:n}=r||{};e.useEffect((()=>{let e=null!=n?{capture:n}:void 0;return window.addEventListener("beforeunload",t,e),()=>{window.removeEventListener("beforeunload",t,e)}}),[t,n])}function ne({when:t,message:r}){let n=p(t);e.useEffect((()=>{"blocked"!==n.state||t||n.reset()}),[n,t]),e.useEffect((()=>{if("blocked"===n.state){window.confirm(r)?setTimeout(n.proceed,0):n.reset()}}),[n,r])}export{_ as BrowserRouter,j as Form,P as HashRouter,I as Link,K as NavLink,B as ScrollRestoration,te as UNSAFE_useScrollRestoration,U as createBrowserRouter,F as createHashRouter,L as createSearchParams,T as unstable_HistoryRouter,ne as unstable_usePrompt,re as useBeforeUnload,X as useFetcher,Z as useFetchers,G as useFormAction,J as useLinkClickHandler,V as useSearchParams,$ as useSubmit};
//# sourceMappingURL=react-router-dom.production.min.js.map
