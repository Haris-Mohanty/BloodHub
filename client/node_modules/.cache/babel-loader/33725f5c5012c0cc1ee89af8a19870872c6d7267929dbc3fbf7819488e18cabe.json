{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\BloodHub\\\\client\\\\src\\\\components\\\\Routes\\\\ProtectedRoutes.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../services/API\";\nimport { getCurrentUser } from \"../../redux/features/auth/authAction\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoutes = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const dispatch = useDispatch();\n\n  //Get User\n  const getUser = async () => {\n    try {\n      const {\n        data\n      } = await API.get(\"/auth/current-user\");\n      if (data !== null && data !== void 0 && data.success) {\n        dispatch(getCurrentUser(data));\n      }\n    } catch (error) {\n      localStorage.clear();\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    getUser();\n  });\n  if (localStorage.getItem(\"token\")) {\n    return children;\n  } else {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 12\n    }, this);\n  }\n};\n_s(ProtectedRoutes, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n_c = ProtectedRoutes;\nexport default ProtectedRoutes;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoutes\");","map":{"version":3,"names":["React","useEffect","useDispatch","API","getCurrentUser","Navigate","jsxDEV","_jsxDEV","ProtectedRoutes","_ref","_s","children","dispatch","getUser","data","get","success","error","localStorage","clear","console","log","getItem","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/wamp64/www/BloodHub/client/src/components/Routes/ProtectedRoutes.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport API from \"../../services/API\";\r\nimport { getCurrentUser } from \"../../redux/features/auth/authAction\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst ProtectedRoutes = ({ children }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  //Get User\r\n  const getUser = async () => {\r\n    try {\r\n      const { data } = await API.get(\"/auth/current-user\");\r\n      if (data?.success) {\r\n        dispatch(getCurrentUser(data));\r\n      }\r\n    } catch (error) {\r\n      localStorage.clear();\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  });\r\n\r\n  if (localStorage.getItem(\"token\")) {\r\n    return children;\r\n  } else {\r\n    return <Navigate to=\"/login\" />\r\n  }\r\n};\r\n\r\nexport default ProtectedRoutes;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,GAAG,MAAM,oBAAoB;AACpC,SAASC,cAAc,QAAQ,sCAAsC;AACrE,SAASC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,MAAMC,eAAe,GAAGC,IAAA,IAAkB;EAAAC,EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EACnC,MAAMG,QAAQ,GAAGV,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAMW,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMX,GAAG,CAACY,GAAG,CAAC,oBAAoB,CAAC;MACpD,IAAID,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEE,OAAO,EAAE;QACjBJ,QAAQ,CAACR,cAAc,CAACU,IAAI,CAAC,CAAC;MAChC;IACF,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,YAAY,CAACC,KAAK,CAAC,CAAC;MACpBC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACpB;EACF,CAAC;EAEDhB,SAAS,CAAC,MAAM;IACdY,OAAO,CAAC,CAAC;EACX,CAAC,CAAC;EAEF,IAAIK,YAAY,CAACI,OAAO,CAAC,OAAO,CAAC,EAAE;IACjC,OAAOX,QAAQ;EACjB,CAAC,MAAM;IACL,oBAAOJ,OAAA,CAACF,QAAQ;MAACkB,EAAE,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACjC;AACF,CAAC;AAACjB,EAAA,CAzBIF,eAAe;EAAA,QACFN,WAAW;AAAA;AAAA0B,EAAA,GADxBpB,eAAe;AA2BrB,eAAeA,eAAe;AAAC,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}