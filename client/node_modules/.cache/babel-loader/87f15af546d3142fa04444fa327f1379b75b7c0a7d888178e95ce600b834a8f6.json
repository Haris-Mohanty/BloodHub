{"ast":null,"code":"import _regeneratorRuntime from\"C:/wamp64/www/BloodHub/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/wamp64/www/BloodHub/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/wamp64/www/BloodHub/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Layout from\"../../components/shared/Layout/Layout\";import moment from\"moment\";import API from\"../../services/API\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Donation=function Donation(){//get current user\nvar _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];//find donor records\nvar getDonors=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$API$post,_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return API.post(\"/inventory/get-inventory-hospital\",{filters:{inventoryType:\"in\",donor:user===null||user===void 0?void 0:user._id}});case 3:_yield$API$post=_context.sent;_data=_yield$API$post.data;//   console.log(data);\nif(_data!==null&&_data!==void 0&&_data.success){setData(_data===null||_data===void 0?void 0:_data.inventory);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getDonors(){return _ref.apply(this,arguments);};}();useEffect(function(){getDonors();},[]);return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5 mb-4 fw-bold text-success font-sofias\",children:\"Donor Details\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped font-Lato\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"green\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"S/N\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"BloodGroup\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"InventoryType\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Quantity \"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Date & Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"category-list\",children:data===null||data===void 0?void 0:data.map(function(record,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:record.bloodGroup}),/*#__PURE__*/_jsx(\"td\",{children:record.inventoryType}),/*#__PURE__*/_jsxs(\"td\",{children:[record.quantity,\"(ML)\"]}),/*#__PURE__*/_jsx(\"td\",{children:record.email}),/*#__PURE__*/_jsx(\"td\",{children:moment(record.createdAt).format(\"DD/MM/YYYY hh:mm A\")})]},record._id);})})]})]});};export default Donation;","map":{"version":3,"names":["React","useEffect","useState","Layout","moment","API","useSelector","jsx","_jsx","jsxs","_jsxs","Donation","_useSelector","state","auth","user","_useState","_useState2","_slicedToArray","data","setData","getDonors","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$API$post","_data","wrap","_callee$","_context","prev","next","post","filters","inventoryType","donor","_id","sent","success","inventory","t0","console","log","stop","apply","arguments","children","className","scope","map","record","index","bloodGroup","quantity","email","createdAt","format"],"sources":["C:/wamp64/www/BloodHub/client/src/pages/dashboard/Donation.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Layout from \"../../components/shared/Layout/Layout\";\r\nimport moment from \"moment\";\r\nimport API from \"../../services/API\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Donation = () => {\r\n  //get current user\r\n  const { user } = useSelector((state) => state.auth);\r\n\r\n  const [data, setData] = useState([]);\r\n  //find donor records\r\n  const getDonors = async () => {\r\n    try {\r\n      const { data } = await API.post(\"/inventory/get-inventory-hospital\", {\r\n        filters: {\r\n          inventoryType: \"in\",\r\n          donor: user?._id,\r\n        },\r\n      });\r\n      //   console.log(data);\r\n      if (data?.success) {\r\n        setData(data?.inventory);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getDonors();\r\n  }, []);\r\n  return (\r\n    <Layout>\r\n      <h1 className=\"mt-5 mb-4 fw-bold text-success font-sofias\">Donor Details</h1>\r\n      <hr />\r\n\r\n      <table className=\"table table-striped font-Lato\">\r\n        <thead>\r\n          <tr className=\"green\">\r\n            <th scope=\"col\">S/N</th>\r\n            <th scope=\"col\">BloodGroup</th>\r\n            <th scope=\"col\">InventoryType</th>\r\n            <th scope=\"col\">Quantity </th>\r\n            <th scope=\"col\">Email</th>\r\n            <th scope=\"col\">Date & Time</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"category-list\">\r\n          {data?.map((record, index) => (\r\n            <tr key={record._id}>\r\n              <td>{index + 1}</td>\r\n              <td>{record.bloodGroup}</td>\r\n              <td>{record.inventoryType}</td>\r\n              <td>{record.quantity}(ML)</td>\r\n              <td>{record.email}</td>\r\n              <td>{moment(record.createdAt).format(\"DD/MM/YYYY hh:mm A\")}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Donation;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}